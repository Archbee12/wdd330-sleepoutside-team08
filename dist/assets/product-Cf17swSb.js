import{g as c,s as d,a as n,b as i}from"./utils-BGUWgxOt.js";import{P as a}from"./ProductData-AZKCg8GK.js";class s{constructor(o,t){this.productId=o,this.product={},this.dataSource=t}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(o){let t=c("so-cart")||[];t.push(this.product),d("so-cart",t)}renderProductDetails(){const{isDiscounted:o}=n(this.product);if(!this.product||!this.product.Brand||!this.product.Brand.Name)return;document.querySelector("h2").textContent=this.product.Brand.Name,document.querySelector("h3").textContent=this.product.NameWithoutBrand;const t=document.getElementById("productImage");t.src=this.product.Image,t.alt=this.product.NameWithoutBrand;const e=document.querySelector("#productPrice");o?e.innerHTML=`
        <span class="final-price">$${this.product.FinalPrice.toFixed(2)}</span>
        <span class="original-price">$${this.product.SuggestedRetailPrice.toFixed(2)}</span>
      `:e.textContent=`$${this.product.FinalPrice.toFixed(2)}`,document.querySelector("#productColor").textContent=this.product.Colors[0].ColorName,document.querySelector("#productDesc").innerHTML=this.product.DescriptionHtmlSimple,document.querySelector("#addToCart").dataset.id=this.product.Id}}document.addEventListener("DOMContentLoaded",()=>{const r=i("product"),o=new a("tents"),t=new s(r,o),e=document.createElement("p");e.textContent="⏳ Loading product...",e.style.textAlign="center",document.querySelector("main").appendChild(e),r&&t.init().then(()=>{e.remove()})});
